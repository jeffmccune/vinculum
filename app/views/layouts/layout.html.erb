<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
        <META HTTP-EQUIV="Expires" CONTENT="-1">
        <META HTTP-EQUIV="CACHE-CONTROL" content="NO-CACHE">
        <!-- Javascript and css includes --!>
        <%= javascript_include_tag :defaults %>
        <%= javascript_include_tag "jquery-1.4.4.min.js" %>
        <%= javascript_include_tag "jquery-ui-1.8.7.custom.min.js" %>
        <%= javascript_include_tag "vinculum.js" %>
        <%= stylesheet_link_tag "jquery-ui-1.8.7.custom.css" %>
        <%= stylesheet_link_tag "application.css" %>
        <% get_plugins.each do |plugin| %>
            <%= javascript_include_tag "#{plugin}.js"%>
            <%= stylesheet_link_tag "#{plugin}.css"%>
        <% end %>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8" />

        <title> 
            Vinculum 
        </title>
        <!-- Required to deal with prototype being a pain in my ass--!>
        <%= javascript_tag "jQuery.noConflict()" %>
        <%= javascript_tag "doReady();" %>

        <style type="text/css" media="screen">
            body{
                margin:0;
                padding:0;
                height:100%;
            }
        </style>
    </head>
    <body>
        <div style="position:relative;width:1440px;height:900px;">
        <div id="leftfield" style="position:absolute;left:0;top:14.5%;width:14.5%;height:75.5%;">
            <% get_plugins.sort.each do |plugin| %>
                <%= button_to_remote plugin.capitalize, {:url=>{:controller => plugin.capitalize, :action => "get_#{plugin}".to_sym}}, {:class=>"action-button fg-button ui-state-default ui-corner-right", :onclick => "spin();"}%>
                <br>
            <% end %>
        </div>
        <div id="topfield" class="ui-widget" style="position:absolute;left:15%;top:1%;width:85%;height:14.5%">
            <% get_actions.sort.each_with_index do |action, i| %>
                <!-- Use index to overflow to next row at some stage--!>
                <%= button_to_remote action.capitalize, {:url=>{:controller => action.capitalize, :action => "get_#{action}".to_sym}}, {:class=>"action-button fg-button ui-state-default ui-corner-right", :onclick => "spin();"}%>

            <% end %>
        </div>
        <div id="contentfield" class="ui-widget ui-widget-content" style="position:absolute;left:15%;top:15%;width:85%;height:85%;min-height:85%;min-width:2000px%">
            <%= yield %>
        </div>
    </div>
    </body>
</html>
